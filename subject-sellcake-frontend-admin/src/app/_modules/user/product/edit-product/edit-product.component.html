<section class="content">
  <div class="row">
    <div class="col-md-12">
      <div class="box box-primary p-0-15">
        <div class="box-header with-border">
          <h1 class="page-header">{{translate.data.product.edit.title}}</h1>
        </div>
        <form #f2="ngForm" method="post" name="profile" enctype="multipart/form-data">
          <div class="row">
            <div class="col-md-6">
              <!--Product name-->
              <div class="form-group">
                <label>{{translate.data.product.edit.name}}</label>
                <input type="text" name ="productName" #productName="ngModel" [(ngModel)]="currentProduct.productName" class="form-control" [required]="true" placeholder="{{translate.data.placeholder.product.name}}" [disabled]="disable" [value]="currentProduct.productName">
                <div *ngIf="productName.touched">
                  <span class="help-block" *ngIf="productName.value === ''" style="color: #cb2027">{{translate.data.error.product.name_required}}</span>
                </div>
              </div>
              <!--unit-->
              <div class="form-group">
                <label>{{translate.data.product.edit.unit}}</label>
                <input type="text" name = "unit" #unit="ngModel" [(ngModel)]="currentProduct.unit" class="form-control" [required]="true" placeholder="{{translate.data.placeholder.product.unit}}" [disabled]="disable" [value]="currentProduct.unit">
                <div *ngIf="unit.touched">
                  <span class="help-block" *ngIf="unit.value === ''"style="color: #cb2027">{{translate.data.error.product.unit_required}}</span>
                </div>
              </div>
              <!--loại bánh-->
              <div class="form-group">
                <label>{{translate.data.product.edit.product_type}}</label>
                <select class="form-control" name="productTypeId" #productTypeId="ngModel" [(ngModel)]= "currentProduct.productTypeId" [disabled]="disable" >
                  <option *ngFor="let productType of productTypes" value="{{productType.productTypeId}}">{{productType.productTypeName}}</option>
                </select>
              </div>
              <!--images product-->
              <div class="form-group">
                <label>{{translate.data.product.edit.image}}</label>
                <img class="img-avatar" src="{{imgUrl?imgUrl:'http://localhost:8080/files/'}}" alt="" style="width: 100%; height: 250px">
                <input type="file" accept="image/*" #file [hidden]="true" (change)="readUrl($event)">
                <button class="btn btn-primary" style="margin-top: 0.5rem; width: 100%"(click)="file.click()">{{translate.data.product.edit.select_image}}</button>
              </div>
            </div>
            <div class="col-md-6">
              <!--unit price-->
              <div class="form-group">
                <label>{{translate.data.product.edit.unit_price}}</label>
                <input type="number" name = "unitPrice" #unitPrice="ngModel" [(ngModel)]="currentProduct.unitPrice" class="form-control" [required]="true" placeholder="{{translate.data.placeholder.product.unit_price}}" [disabled]="disable" [value]="currentProduct.unitPrice">
                <div *ngIf="unitPrice.touched">
                  <span class="help-block" *ngIf="unitPrice.errors"style="color: #cb2027">{{translate.data.error.product.unit_price_required}}</span>
                </div>
              </div>
              <!--promotionPrice-->
              <div class="form-group">
                <label>{{translate.data.product.edit.promotion_price}}</label>
                <input type="number" name = "promotionPrice" #promotionPrice="ngModel" [(ngModel)]="currentProduct.promotionPrice" class="form-control" [required]="true" placeholder="{{translate.data.placeholder.product.promotion_price}}" [disabled]="disable" [value]="currentProduct.promotionPrice">
                <div *ngIf="promotionPrice.touched">
                  <span class="help-block" *ngIf="promotionPrice.errors"style="color: #cb2027">{{translate.data.error.product.promotion_price_required}}</span>
                </div>
              </div>
              <!--product description-->
              <div class="form-group">
                <label>{{translate.data.product.edit.description}}</label>
                <textarea type="text" name="description" #description="ngModel" [(ngModel)]="currentProduct.description" [required]="true" class="form-control" placeholder="{{translate.data.placeholder.product.description}}" style="height:300px" [disabled]="disable" [value]="currentProduct.description"></textarea>
                <div *ngIf="description.touched">
                  <span class="help-block" *ngIf="description.value === ''"style="color: #cb2027">{{translate.data.error.product.description_required}}</span>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group pull-right" style="margin-top: 14px;margin-right:13px">
            <button class="btn btn-danger" (click)="changeStatus()" style="margin-right: 10px">{{translate.data.button.delete}}</button>
            <button class="btn btn-success" [disabled]="f2.invalid" (click)="updateProduct()" style="margin-right: 10px" [disabled]="disable">{{translate.data.button.save}}</button>
            <button class="btn btn-success" (click)="changeUpdate()" style="margin-right: 10px">{{translate.data.button.change}}</button>
            <button class="btn btn-warning" routerLink="/admin/product/list">{{translate.data.button.back}}</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
